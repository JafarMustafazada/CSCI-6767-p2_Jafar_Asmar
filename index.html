<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Iris Classification ‚Äî Jafar & Asmar</title>
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,400&family=Syne:wght@400;600;700;800&display=swap"
    rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    :root {
      --bg: #07080d;
      --surface: #0e1017;
      --card: #13161f;
      --border: #1e2333;
      --text: #d4ddf5;
      --muted: #5a6a8a;
      --accent: #5dffb3;
      --accent2: #ff6b6b;
      --accent3: #ffd166;
      --accent4: #74b9ff;
      --setosa: #5dffb3;
      --versicolor: #ffd166;
      --virginica: #74b9ff;
    }

    html {
      scroll-behavior: smooth
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'DM Mono', monospace;
      font-size: 13px;
      line-height: 1.7;
      min-height: 100vh
    }

    /* HERO */
    .hero {
      padding: 60px 400px 40px;
      background: linear-gradient(135deg, #07080d 0%, #0b0f1a 50%, #07080d 100%);
      border-bottom: 1px solid var(--border);
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse 60% 50% at 70% 40%, rgba(93, 255, 179, 0.04) 0%, transparent 70%);
      pointer-events: none;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: #0e1017;
      border: 1px solid #1e2333;
      border-radius: 20px;
      padding: 5px 14px;
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 20px;
      letter-spacing: .5px
    }

    .hero-badge span {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--accent);
      animation: pulse 2s infinite
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1
      }

      50% {
        opacity: .3
      }
    }

    h1 {
      font-family: 'Syne', sans-serif;
      font-size: clamp(28px, 5vw, 52px);
      font-weight: 800;
      line-height: 1.1;
      margin-bottom: 16px;
      letter-spacing: -1px
    }

    h1 em {
      color: var(--accent);
      font-style: normal
    }

    h4 em {
      color: var(--accent);
      font-style: normal
    }

    .hero-sub {
      color: var(--muted);
      font-size: 13px;
      max-width: 600px;
      margin-bottom: 32px
    }

    .hero-stats {
      display: flex;
      gap: 24px;
      flex-wrap: wrap
    }

    .stat {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 14px 20px
    }

    .stat-val {
      font-family: 'Syne', sans-serif;
      font-size: 22px;
      font-weight: 700;
      color: var(--accent)
    }

    .stat-label {
      font-size: 10px;
      color: var(--muted);
      letter-spacing: .5px;
      margin-top: 2px
    }

    .authors {
      margin-top: 28px;
      font-size: 11px;
      color: var(--muted)
    }

    .authors strong {
      color: var(--text)
    }

    /* NAV TABS */
    .tabs {
      display: flex;
      gap: 2px;
      padding: 12px 40px;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      overflow-x: auto;
      position: sticky;
      top: 0;
      z-index: 100
    }

    .tab {
      background: transparent;
      border: none;
      color: var(--muted);
      font-family: 'DM Mono', monospace;
      font-size: 11px;
      padding: 8px 16px;
      cursor: pointer;
      border-radius: 6px;
      white-space: nowrap;
      letter-spacing: .3px;
      transition: all .15s
    }

    .tab:hover {
      color: var(--text);
      background: #1a1f30
    }

    .tab.active {
      background: var(--card);
      color: var(--accent);
      border: 1px solid var(--border)
    }

    /* MAIN */
    .main {
      max-width: 960px;
      margin: 0 auto;
      padding: 40px
    }

    .section {
      display: none;
      animation: fadein .25s ease
    }

    .section.active {
      display: block
    }

    @keyframes fadein {
      from {
        opacity: 0;
        transform: translateY(8px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    /* HEADINGS */
    h2 {
      font-family: 'Syne', sans-serif;
      font-weight: 700;
      font-size: 20px;
      margin-bottom: 6px;
      color: #e8edf8
    }

    h3 {
      font-family: 'Syne', sans-serif;
      font-weight: 600;
      font-size: 14px;
      color: var(--text);
      margin: 28px 0 12px;
      padding-left: 10px;
      border-left: 2px solid var(--accent)
    }

    .section-desc {
      color: var(--muted);
      font-size: 12px;
      margin-bottom: 28px;
      max-width: 680px;
      line-height: 1.8
    }

    /* CARDS */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px
    }

    .card-title {
      font-size: 10px;
      color: var(--muted);
      letter-spacing: 1px;
      margin-bottom: 14px;
      text-transform: uppercase
    }

    /* METRIC GRID */
    .metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 12px;
      margin-bottom: 24px
    }

    .metric {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 16px;
      text-align: center
    }

    .metric-val {
      font-family: 'Syne', sans-serif;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 4px
    }

    .metric-label {
      font-size: 10px;
      color: var(--muted);
      letter-spacing: .5px
    }

    .green {
      color: var(--accent)
    }

    .yellow {
      color: var(--accent3)
    }

    .blue {
      color: var(--accent4)
    }

    .red {
      color: var(--accent2)
    }

    /* TABLE */
    .tbl-wrap {
      overflow-x: auto
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px
    }

    th {
      padding: 10px 14px;
      text-align: left;
      font-size: 10px;
      letter-spacing: .5px;
      color: var(--muted);
      border-bottom: 1px solid var(--border);
      font-weight: normal
    }

    td {
      padding: 10px 14px;
      border-bottom: 1px solid #111520
    }

    tr:last-child td {
      border-bottom: none
    }

    tr:hover td {
      background: #0f1220
    }

    .sig-hi {
      color: var(--accent);
      font-weight: 500
    }

    .sig-ns {
      color: var(--muted)
    }

    .badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 10px
    }

    .badge-green {
      background: #0e2a1e;
      color: var(--accent);
      border: 1px solid #1a4a2e
    }

    .badge-yellow {
      background: #2a1e0e;
      color: var(--accent3);
      border: 1px solid #4a3a1a
    }

    .badge-blue {
      background: #0e1a2a;
      color: var(--accent4);
      border: 1px solid #1a2a4a
    }

    .badge-red {
      background: #2a0e0e;
      color: var(--accent2);
      border: 1px solid #4a1a1a
    }

    /* CONFUSION MATRIX */
    .cm {
      display: inline-grid;
      gap: 3px;
      margin-top: 8px
    }

    .cm-cell {
      width: 52px;
      height: 52px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 6px;
      font-family: 'Syne', sans-serif;
      font-size: 16px;
      font-weight: 700
    }

    .cm-diag {
      background: #0e2a1e;
      color: var(--accent);
      border: 1px solid #1a4a2e
    }

    .cm-off {
      background: #13161f;
      color: #5a6a8a;
      border: 1px solid var(--border)
    }

    .cm-header {
      font-size: 9px;
      color: var(--muted);
      letter-spacing: .5px;
      display: flex;
      align-items: center;
      justify-content: center
    }

    /* ALERT BOX */
    .alert {
      border-radius: 8px;
      padding: 14px 16px;
      font-size: 12px;
      line-height: 1.8;
      margin-top: 16px
    }

    .alert-warn {
      background: #1a1200;
      border: 1px solid #3a2a00;
      color: #c0a060
    }

    .alert-info {
      background: #001220;
      border: 1px solid #003050;
      color: #6090c0
    }

    .alert-good {
      background: #001a10;
      border: 1px solid #004030;
      color: #50b080
    }

    .alert-title {
      font-size: 10px;
      letter-spacing: .5px;
      margin-bottom: 6px;
      font-weight: 500
    }

    /* CHART */
    .chart-wrap {
      position: relative;
      height: 280px;
      margin-top: 12px
    }

    .chart-sm {
      height: 200px
    }

    /* SLIDER */
    .slider-row {
      display: flex;
      align-items: center;
      gap: 14px;
      margin: 16px 0
    }

    .slider-row label {
      font-size: 11px;
      color: var(--muted);
      white-space: nowrap;
      min-width: 90px
    }

    input[type=range] {
      flex: 1;
      accent-color: var(--accent);
      cursor: pointer;
      height: 4px
    }

    .slider-val {
      font-family: 'Syne', sans-serif;
      font-size: 16px;
      font-weight: 700;
      color: var(--accent);
      min-width: 50px;
      text-align: right
    }

    .dynamic-result {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 14px;
      font-size: 12px;
      margin-top: 12px;
      min-height: 60px;
      line-height: 1.9
    }

    /* TOGGLE */
    .toggle-row {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
      flex-wrap: wrap
    }

    .toggle-btn {
      background: var(--card);
      border: 1px solid var(--border);
      color: var(--muted);
      font-family: 'DM Mono', monospace;
      font-size: 11px;
      padding: 6px 14px;
      border-radius: 6px;
      cursor: pointer;
      transition: all .15s
    }

    .toggle-btn.on {
      border-color: var(--accent);
      color: var(--accent);
      background: #001a10
    }

    /* POISSON DEMO */
    .poisson-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px
    }

    @media(max-width:600px) {
      .poisson-grid {
        grid-template-columns: 1fr
      }
    }

    /* PROGRESS BAR */
    .bar-row {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 6px 0
    }

    .bar-label {
      min-width: 130px;
      font-size: 11px;
      color: var(--text)
    }

    .bar-track {
      flex: 1;
      background: #1e2333;
      border-radius: 4px;
      height: 8px;
      overflow: hidden
    }

    .bar-fill {
      height: 100%;
      border-radius: 4px;
      transition: width .4s ease
    }

    .bar-val {
      min-width: 50px;
      font-size: 11px;
      text-align: right;
      font-family: 'Syne', sans-serif;
      font-weight: 600
    }

    /* ROC highlight */
    .auc-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 11px;
      margin: 4px 4px 4px 0
    }

    /* Left sidebar (vertical tabs) */
    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: 220px;
      background: linear-gradient(180deg, var(--sidebar), rgba(255, 255, 255, 0.02));
      border-right: 1px solid var(--glass-border);
      padding: 28px 18px;
      display: flex;
      flex-direction: column;
      gap: 18px;
      z-index: 120;
      backdrop-filter: blur(var(--glass-blur));
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 4px;
    }

    .brand .logo {
      width: 44px;
      height: 44px;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--accent-3), var(--accent-1));
      box-shadow: 0 6px 18px rgba(8, 8, 16, 0.6), inset 0 -6px 16px rgba(255, 255, 255, 0.03);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      color: #fff;
      font-family: Syne, serif;
    }

    .brand h4 {
      font-size: 14px;
      margin: 0;
      color: var(--text);
      letter-spacing: -0.2px
    }

    .brand p {
      font-size: 11px;
      color: var(--muted);
      margin-top: 2px
    }

    .nav {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 8px;
      overflow: auto;
      padding-right: 6px;
    }

    .nav button {
      all: unset;
      cursor: pointer;
      padding: 10px 12px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--muted);
      font-size: 13px;
      border: 1px solid transparent;
      transition: all .14s ease;
      white-space: nowrap;
    }

    .nav button .emoji {
      font-size: 14px;
      width: 26px;
      text-align: center
    }

    .nav button:hover {
      color: var(--text);
      transform: translateX(6px)
    }

    .nav button.active {
      background: linear-gradient(90deg, rgba(255, 122, 162, 0.08), rgba(140, 123, 255, 0.04));
      color: var(--text);
      border: 1px solid var(--glass-border);
      box-shadow: 0 6px 18px rgba(8, 12, 24, 0.6);
      transform: none;
    }

    .sidebar .meta {
      margin-top: auto;
      font-size: 12px;
      color: var(--muted)
    }

    .sidebar .meta strong {
      color: var(--text);
      display: block;
      margin-bottom: 6px
    }
  </style>
</head>

<body>

  <div class="hero">
    <h1>Iris <em>Classification</em></h1>
    <p class="hero-sub">Logistic Regression ¬∑ LDA ¬∑ QDA ¬∑ Naive Bayes ¬∑ Poisson Regression<br>All results from executed
      notebook</p>
    <div class="hero-stats">
      <div class="stat">
        <div class="stat-val green">150</div>
        <div class="stat-label">SAMPLES</div>
      </div>
      <div class="stat">
        <div class="stat-val yellow">4</div>
        <div class="stat-label">FEATURES</div>
      </div>
      <div class="stat">
        <div class="stat-val blue">3</div>
        <div class="stat-label">CLASSES</div>
      </div>
      <div class="stat">
        <div class="stat-val" style="color:var(--accent2)">5</div>
        <div class="stat-label">MODELS</div>
      </div>
      <div class="stat">
        <div class="stat-val green">97.3%</div>
        <div class="stat-label">BEST CV ACC</div>
      </div>
    </div>
    <p class="authors" style="margin-top:24px">Authors: <strong>Jafar</strong> (Steps 2, 3, 4, 5 & 6) &nbsp;¬∑&nbsp;
      <strong>Asmar</strong> (Steps 1, 4, 5) &nbsp;¬∑&nbsp; AML Course Project 2</p>
  </div>

  <!-- LEFT SIDEBAR -->
  <aside class="sidebar" aria-label="Navigation">
    <nav class="nav" role="navigation" aria-label="Sections">
      <button class="tab active" onclick="showTab(0)"><span class="emoji">üå∏</span>Overview</button>
      <button class="tab" onclick="showTab(1)"><span class="emoji">üìà</span>Logistic Reg</button>
      <button class="tab" onclick="showTab(2)"><span class="emoji">üî¨</span>LDA & ROC</button>
      <button class="tab" onclick="showTab(3)"><span class="emoji">üé≤</span>Naive Bayes</button>
      <button class="tab" onclick="showTab(4)"><span class="emoji">‚ö°</span>Comparison</button>
      <button class="tab" onclick="showTab(5)"><span class="emoji">üìâ</span>Poisson</button>
      <button class="tab" onclick="showTab(6)"><span class="emoji">üë•</span>Team</button>
    </nav>
  </aside>

  <div class="main">

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê OVERVIEW ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section active" id="s0">
      <h2>Motivation & Dataset</h2>
      <p class="section-desc">We compare four classifiers on the Iris dataset and extend to count regression, answering:
        <em>which classifier best separates species, and when does Poisson GLM outperform OLS?</em></p>

      <div class="metrics">
        <div class="metric">
          <div class="metric-val green">100%</div>
          <div class="metric-label">BINARY LR</div>
        </div>
        <div class="metric">
          <div class="metric-val yellow">93.3%</div>
          <div class="metric-label">LR MULTI-CLASS</div>
        </div>
        <div class="metric">
          <div class="metric-val blue">91.1%</div>
          <div class="metric-label">LDA</div>
        </div>
        <div class="metric">
          <div class="metric-val green">93.3%</div>
          <div class="metric-label">QDA</div>
        </div>
        <div class="metric">
          <div class="metric-val" style="color:var(--accent2)">93.3%</div>
          <div class="metric-label">NAIVE BAYES</div>
        </div>
      </div>

      <h3>Petal Feature Means by Species</h3>
      <div class="card">
        <div class="card-title">Training Data Summary ‚Äî Petal Length & Width (cm)</div>
        <div class="tbl-wrap">
          <table>
            <tr>
              <th>Species</th>
              <th>Petal Length (mean)</th>
              <th>Petal Width (mean)</th>
              <th>Separation</th>
            </tr>
            <tr>
              <td><span class="badge badge-green">Setosa</span></td>
              <td>1.46</td>
              <td>0.25</td>
              <td class="green">‚òÖ Clearly separated</td>
            </tr>
            <tr>
              <td><span class="badge badge-yellow">Versicolor</span></td>
              <td>4.26</td>
              <td>1.33</td>
              <td class="yellow">Partial overlap</td>
            </tr>
            <tr>
              <td><span class="badge badge-blue">Virginica</span></td>
              <td>5.55</td>
              <td>2.03</td>
              <td class="yellow">Partial overlap</td>
            </tr>
          </table>
        </div>
        <div class="chart-wrap" style="height:240px;margin-top:20px">
          <canvas id="scatterChart"></canvas>
        </div>
      </div>

      <h3>All Model Accuracies at a Glance</h3>
      <div class="card">
        <div class="card-title">Test Set Accuracy (70/30 split, stratified)</div>
        <div style="margin-top:8px">
          <div class="bar-row"><span class="bar-label">Binary LR</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:100%;background:var(--accent)"></div>
            </div><span class="bar-val green">100.0%</span>
          </div>
          <div class="bar-row"><span class="bar-label">Multi-class LR</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:93.3%;background:var(--accent3)"></div>
            </div><span class="bar-val yellow">93.3%</span>
          </div>
          <div class="bar-row"><span class="bar-label">LDA</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:91.1%;background:var(--accent4)"></div>
            </div><span class="bar-val blue">91.1%</span>
          </div>
          <div class="bar-row"><span class="bar-label">QDA</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:93.3%;background:var(--accent)"></div>
            </div><span class="bar-val green">93.3%</span>
          </div>
          <div class="bar-row"><span class="bar-label">Naive Bayes</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:93.3%;background:var(--accent2)"></div>
            </div><span class="bar-val red">93.3%</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LOGISTIC REGRESSION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="s1">
      <h2>Logistic Regression</h2>
      <p class="section-desc">Steps 1a‚Äì1d: binary classification (Setosa vs rest), coefficient inference, confounding
        analysis, and multi-class softmax. <em>Contributed by Jafar.</em></p>

      <h3>1a & 1b ‚Äî Binary LR + Coefficient Statistics</h3>
      <div class="metrics">
        <div class="metric">
          <div class="metric-val green">1.0000</div>
          <div class="metric-label">TEST ACCURACY</div>
        </div>
        <div class="metric">
          <div class="metric-val yellow">61.10</div>
          <div class="metric-label">Œ≤ INTERCEPT</div>
        </div>
        <div class="metric">
          <div class="metric-val blue">‚àí17.80</div>
          <div class="metric-label">Œ≤ PETAL LENGTH</div>
        </div>
        <div class="metric">
          <div class="metric-val red">‚àí23.26</div>
          <div class="metric-label">Œ≤ PETAL WIDTH</div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">Coefficient Table ‚Äî statsmodels.Logit (Binary: Setosa=1 vs Rest=0)</div>
        <div class="tbl-wrap">
          <table>
            <tr>
              <th>Term</th>
              <th>Coefficient (Œ≤)</th>
              <th>Std. Error</th>
              <th>z-Statistic</th>
              <th>p-Value</th>
              <th>Sig.</th>
            </tr>
            <tr>
              <td>const</td>
              <td>61.1055</td>
              <td>21,221.57</td>
              <td>0.0029</td>
              <td>0.9977</td>
              <td><span class="sig-ns">ns</span></td>
            </tr>
            <tr>
              <td>petal_length</td>
              <td>‚àí17.8041</td>
              <td>18,322.80</td>
              <td>‚àí0.0010</td>
              <td>0.9992</td>
              <td><span class="sig-ns">ns</span></td>
            </tr>
            <tr>
              <td>petal_width</td>
              <td>‚àí23.2555</td>
              <td>36,408.40</td>
              <td>‚àí0.0006</td>
              <td>0.9995</td>
              <td><span class="sig-ns">ns</span></td>
            </tr>
          </table>
        </div>
        <div class="alert alert-warn" style="margin-top:14px">
          <div class="alert-title">‚ö† PERFECT SEPARATION WARNING</div>
          Standard errors are in the tens of thousands because Setosa is perfectly linearly separable ‚Äî the
          log-likelihood maximum occurs at Œ≤ ‚Üí ¬±‚àû. Predictions are correct (100% accuracy), but z-statistics and
          p-values are unreliable. <strong>Fix:</strong> Firth-corrected logistic regression or L2 regularisation.
        </div>
      </div>

      <h3>1c ‚Äî Confounding Variables</h3>
      <div class="card">
        <div class="card-title">Correlation with Setosa Binary Target</div>
        <div style="margin-top:8px">
          <div class="bar-row"><span class="bar-label">petal_length</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:92.3%;background:var(--accent2)"></div>
            </div><span class="bar-val red">‚àí0.923</span>
          </div>
          <div class="bar-row"><span class="bar-label">petal_width</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:88.7%;background:var(--accent2)"></div>
            </div><span class="bar-val red">‚àí0.887</span>
          </div>
          <div class="bar-row"><span class="bar-label">sepal_length</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:71.7%;background:var(--accent3)"></div>
            </div><span class="bar-val yellow">‚àí0.717</span>
          </div>
          <div class="bar-row"><span class="bar-label">sepal_width</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:60.3%;background:var(--accent4)"></div>
            </div><span class="bar-val blue">+0.603</span>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">Coefficient Shift ‚Äî Petal-Only vs Full Model (Confounding Check)</div>
        <div class="tbl-wrap">
          <table>
            <tr>
              <th>Term</th>
              <th>Petal-only model</th>
              <th>Full model (4 features)</th>
              <th>Shift</th>
            </tr>
            <tr>
              <td>const</td>
              <td>61.11</td>
              <td>‚àí11.86</td>
              <td class="red">‚Üï large</td>
            </tr>
            <tr>
              <td>petal_length</td>
              <td>‚àí17.80</td>
              <td>‚àí20.53</td>
              <td class="yellow">‚àí15%</td>
            </tr>
            <tr>
              <td>petal_width</td>
              <td>‚àí23.26</td>
              <td>‚àí14.95</td>
              <td class="red">‚àí36% ‚Üê confounding</td>
            </tr>
            <tr>
              <td>sepal_length</td>
              <td>‚Äî</td>
              <td>9.63</td>
              <td class="muted">added</td>
            </tr>
            <tr>
              <td>sepal_width</td>
              <td>‚Äî</td>
              <td>8.44</td>
              <td class="muted">added</td>
            </tr>
          </table>
        </div>
        <div class="alert alert-info" style="margin-top:12px">
          <div class="alert-title">‚Ñπ CONCLUSION</div>
          petal_width shifts 36% when sepal features are added ‚Üí <strong>partial confounding confirmed</strong>. The
          petal-only model is preferred ‚Äî adding sepal features increased multicollinearity without improving test
          accuracy.
        </div>
      </div>

      <h3>1d ‚Äî Multi-Class Logistic Regression (Softmax)</h3>
      <div class="metrics">
        <div class="metric">
          <div class="metric-val yellow">0.9333</div>
          <div class="metric-label">TEST ACCURACY</div>
        </div>
        <div class="metric">
          <div class="metric-val green">15/15</div>
          <div class="metric-label">SETOSA CORRECT</div>
        </div>
        <div class="metric">
          <div class="metric-val yellow">14/15</div>
          <div class="metric-label">VERSICOLOR</div>
        </div>
        <div class="metric">
          <div class="metric-val yellow">13/15</div>
          <div class="metric-label">VIRGINICA</div>
        </div>
      </div>

      <div class="card" style="display:grid;grid-template-columns:1fr 1fr;gap:24px">
        <div>
          <div class="card-title">Coefficients (one row per class)</div>
          <table>
            <tr>
              <th>Class</th>
              <th>Petal Length</th>
              <th>Petal Width</th>
            </tr>
            <tr>
              <td><span class="badge badge-green">setosa</span></td>
              <td>‚àí2.4869</td>
              <td>‚àí1.0758</td>
            </tr>
            <tr>
              <td><span class="badge badge-yellow">versicolor</span></td>
              <td>0.1279</td>
              <td>‚àí0.8098</td>
            </tr>
            <tr>
              <td><span class="badge badge-blue">virginica</span></td>
              <td>2.3590</td>
              <td>1.8856</td>
            </tr>
          </table>
        </div>
        <div>
          <div class="card-title">Confusion Matrix (Test, n=45)</div>
          <div style="font-size:10px;color:var(--muted);margin-bottom:6px">‚Üì Actual / Predicted ‚Üí</div>
          <div class="cm" style="grid-template-columns:repeat(4,1fr)">
            <div class="cm-header"></div>
            <div class="cm-header" style="color:var(--setosa)">Set</div>
            <div class="cm-header" style="color:var(--versicolor)">Ver</div>
            <div class="cm-header" style="color:var(--virginica)">Vir</div>
            <div class="cm-header" style="color:var(--setosa)">Set</div>
            <div class="cm-cell cm-diag">15</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-header" style="color:var(--versicolor)">Ver</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-cell cm-diag">14</div>
            <div class="cm-cell cm-off">1</div>
            <div class="cm-header" style="color:var(--virginica)">Vir</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-cell cm-off">2</div>
            <div class="cm-cell cm-diag">13</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LDA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="s2">
      <h2>Discriminant Analysis</h2>
      <p class="section-desc">Steps 2a‚Äì2d: LDA, interactive threshold selection, ROC curves, and QDA. <em>Contributed by
          Asmar.</em></p>

      <h3>2a ‚Äî Linear Discriminant Analysis</h3>
      <div class="metrics">
        <div class="metric">
          <div class="metric-val blue">0.9111</div>
          <div class="metric-label">LDA TEST ACC</div>
        </div>
        <div class="metric">
          <div class="metric-val green">99.45%</div>
          <div class="metric-label">LD1 VARIANCE</div>
        </div>
        <div class="metric">
          <div class="metric-val yellow">0.55%</div>
          <div class="metric-label">LD2 VARIANCE</div>
        </div>
      </div>

      <div class="card" style="display:grid;grid-template-columns:1fr 1fr;gap:24px">
        <div>
          <div class="card-title">Confusion Matrix ‚Äî LDA</div>
          <div style="font-size:10px;color:var(--muted);margin-bottom:6px">‚Üì Actual / Predicted ‚Üí</div>
          <div class="cm" style="grid-template-columns:repeat(4,1fr)">
            <div class="cm-header"></div>
            <div class="cm-header" style="color:var(--setosa)">Set</div>
            <div class="cm-header" style="color:var(--versicolor)">Ver</div>
            <div class="cm-header" style="color:var(--virginica)">Vir</div>
            <div class="cm-header" style="color:var(--setosa)">Set</div>
            <div class="cm-cell cm-diag">15</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-header" style="color:var(--versicolor)">Ver</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-cell cm-diag">14</div>
            <div class="cm-cell cm-off">1</div>
            <div class="cm-header" style="color:var(--virginica)">Vir</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-cell cm-off" style="color:var(--accent2);border-color:#3a1a1a">3</div>
            <div class="cm-cell cm-diag">12</div>
          </div>
          <div class="alert alert-warn" style="margin-top:12px;padding:10px 12px">
            <div class="alert-title">‚ö† LDA WEAKNESS</div>
            3 Virginica ‚Üí Versicolor errors (LR/QDA/NB only had 2). Shared covariance assumption violated ‚Äî Virginica
            det(Œ£) is 93√ó Setosa's.
          </div>
        </div>
        <div>
          <div class="card-title">QDA ‚Äî Per-Class Covariance det(Œ£_k)</div>
          <div class="bar-row" style="margin-top:16px"><span class="bar-label">Setosa det</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:5%;background:var(--setosa)"></div>
            </div><span class="bar-val green">0.000209</span>
          </div>
          <div class="bar-row"><span class="bar-label">Versicolor det</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:35%;background:var(--versicolor)"></div>
            </div><span class="bar-val yellow">0.003637</span>
          </div>
          <div class="bar-row"><span class="bar-label">Virginica det</span>
            <div class="bar-track">
              <div class="bar-fill" style="width:100%;background:var(--virginica)"></div>
            </div><span class="bar-val blue">0.019560</span>
          </div>
          <div class="alert alert-info" style="margin-top:14px;padding:10px 12px">
            <div class="alert-title">QDA TEST ACC: 0.9333</div>
            Class-specific Œ£_k captures that Virginica is ~93√ó more dispersed than Setosa ‚Üí QDA beats LDA by 2.2pp.
          </div>
        </div>
      </div>

      <h3>2b ‚Äî Interactive Threshold Explorer</h3>
      <div class="card">
        <div class="card-title">Adjust threshold for P(Setosa | x) ‚Äî see F1 score update live</div>
        <div class="slider-row">
          <label>Threshold</label>
          <input type="range" min="0.01" max="0.99" step="0.01" value="0.68" id="thrSlider"
            oninput="updateThreshold(this.value)" />
          <span class="slider-val" id="thrVal">0.68</span>
        </div>
        <div class="dynamic-result" id="thrResult"></div>
        <div class="chart-wrap chart-sm" style="margin-top:16px"><canvas id="f1Chart"></canvas></div>
      </div>

      <h3>2c ‚Äî ROC Curves (One-vs-Rest)</h3>
      <div class="card">
        <div class="card-title">Area Under Curve ‚Äî LDA, all 3 classes</div>
        <div style="margin-bottom:16px">
          <span class="auc-pill badge-green">‚óè Setosa AUC = <strong>1.0000</strong></span>
          <span class="auc-pill badge-yellow">‚óè Versicolor AUC = <strong>0.9970</strong></span>
          <span class="auc-pill badge-blue">‚óè Virginica AUC = <strong>0.9970</strong></span>
          <span class="auc-pill" style="background:#1a1a2a;border:1px solid #2a2a4a;color:#5a6a8a">Macro AUC =
            <strong>0.9980</strong></span>
        </div>
        <div class="chart-wrap"><canvas id="rocChart"></canvas></div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NAIVE BAYES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="s3">
      <h2>Gaussian Naive Bayes</h2>
      <p class="section-desc">Step 3: Gaussian NB with learned per-class parameters. Despite Petal L/W correlation ‚âà
        0.96 violating the independence assumption, NB achieves 93.3%. <em>Contributed by Jafar.</em></p>

      <div class="metrics">
        <div class="metric">
          <div class="metric-val red">0.9333</div>
          <div class="metric-label">TEST ACCURACY</div>
        </div>
        <div class="metric">
          <div class="metric-val green">0.333</div>
          <div class="metric-label">PRIOR (EACH)</div>
        </div>
        <div class="metric">
          <div class="metric-val yellow">0.96</div>
          <div class="metric-label">PL/PW CORR</div>
        </div>
      </div>

      <h3>Learned Gaussian Parameters</h3>
      <div class="card">
        <div class="tbl-wrap">
          <table>
            <tr>
              <th>Class</th>
              <th>Prior œÄ</th>
              <th>PL mean Œº</th>
              <th>PL var œÉ¬≤</th>
              <th>PW mean Œº</th>
              <th>PW var œÉ¬≤</th>
            </tr>
            <tr>
              <td><span class="badge badge-green">setosa</span></td>
              <td>0.3333</td>
              <td>1.4857</td>
              <td>0.0229</td>
              <td>0.2400</td>
              <td>0.0093</td>
            </tr>
            <tr>
              <td><span class="badge badge-yellow">versicolor</span></td>
              <td>0.3333</td>
              <td>4.2371</td>
              <td>0.2115</td>
              <td>1.3086</td>
              <td>0.0356</td>
            </tr>
            <tr>
              <td><span class="badge badge-blue">virginica</span></td>
              <td>0.3333</td>
              <td>5.6314</td>
              <td>0.3227</td>
              <td>2.0686</td>
              <td>0.0639</td>
            </tr>
          </table>
        </div>
      </div>

      <h3>Interactive ‚Äî Try Your Own Flower</h3>
      <div class="card">
        <div class="card-title">Enter petal measurements to get a live Naive Bayes prediction</div>
        <div class="slider-row">
          <label>Petal Length</label>
          <input type="range" min="1" max="7" step="0.1" value="3.5" id="plSlider" oninput="updateNB()" />
          <span class="slider-val" id="plVal">3.5</span>
        </div>
        <div class="slider-row">
          <label>Petal Width</label>
          <input type="range" min="0.1" max="2.5" step="0.1" value="1.0" id="pwSlider" oninput="updateNB()" />
          <span class="slider-val" id="pwVal">1.0</span>
        </div>
        <div class="dynamic-result" id="nbResult"></div>
      </div>

      <div class="card" style="display:grid;grid-template-columns:1fr 1fr;gap:24px">
        <div>
          <div class="card-title">Confusion Matrix ‚Äî Naive Bayes</div>
          <div style="font-size:10px;color:var(--muted);margin-bottom:6px">‚Üì Actual / Predicted ‚Üí</div>
          <div class="cm" style="grid-template-columns:repeat(4,1fr)">
            <div class="cm-header"></div>
            <div class="cm-header" style="color:var(--setosa)">Set</div>
            <div class="cm-header" style="color:var(--versicolor)">Ver</div>
            <div class="cm-header" style="color:var(--virginica)">Vir</div>
            <div class="cm-header" style="color:var(--setosa)">Set</div>
            <div class="cm-cell cm-diag">15</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-header" style="color:var(--versicolor)">Ver</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-cell cm-diag">14</div>
            <div class="cm-cell cm-off">1</div>
            <div class="cm-header" style="color:var(--virginica)">Vir</div>
            <div class="cm-cell cm-off">0</div>
            <div class="cm-cell cm-off">2</div>
            <div class="cm-cell cm-diag">13</div>
          </div>
        </div>
        <div>
          <div class="card-title">Independence Assumption Check</div>
          <div class="alert alert-warn" style="margin-top:0">
            <div class="alert-title">VIOLATED ‚Äî but doesn't matter here</div>
            PL and PW have correlation œÅ ‚âà 0.96. NB treats them as independent. Yet NB achieves 93.3% ‚Äî equal to LR and
            QDA ‚Äî because class-conditional means are so far apart that correlation is irrelevant for classification.
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê COMPARISON ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="s4">
      <h2>Model Comparison</h2>
      <p class="section-desc">Step 4: 10-fold cross-validation, confusion matrices, and model property analysis across
        all four classifiers. <em>Contributed by Asmar.</em></p>

      <h3>10-Fold Cross-Validation Results</h3>
      <div class="card">
        <div class="tbl-wrap">
          <table>
            <tr>
              <th>Model</th>
              <th>CV Mean Acc</th>
              <th>CV Std</th>
              <th>Test Acc</th>
              <th>Boundary</th>
              <th>Cov. Assumption</th>
              <th>Best When</th>
            </tr>
            <tr>
              <td>LR (Multinomial)</td>
              <td class="yellow">0.9600</td>
              <td>¬±0.0442</td>
              <td class="yellow">0.9333</td>
              <td>Linear</td>
              <td>None</td>
              <td>Large n</td>
            </tr>
            <tr>
              <td>LDA</td>
              <td class="blue">0.9600</td>
              <td>¬±0.0442</td>
              <td class="blue">0.9111</td>
              <td>Linear</td>
              <td>Shared Œ£</td>
              <td>Small n, equal Œ£</td>
            </tr>
            <tr>
              <td>QDA</td>
              <td class="green">0.9733</td>
              <td>¬±0.0327</td>
              <td class="green">0.9333</td>
              <td>Quadratic</td>
              <td>Class Œ£_k</td>
              <td>Unequal Œ£</td>
            </tr>
            <tr>
              <td>Naive Bayes</td>
              <td class="red">0.9600</td>
              <td>¬±0.0442</td>
              <td class="red">0.9333</td>
              <td>Non-linear</td>
              <td>Diagonal</td>
              <td>High-dim data</td>
            </tr>
          </table>
        </div>
        <div class="chart-wrap" style="height:220px;margin-top:20px"><canvas id="cvChart"></canvas></div>
      </div>

      <h3>Select a Model to Inspect</h3>
      <div class="toggle-row">
        <button class="toggle-btn on" onclick="showModel('lr',this)">LR</button>
        <button class="toggle-btn" onclick="showModel('lda',this)">LDA</button>
        <button class="toggle-btn" onclick="showModel('qda',this)">QDA</button>
        <button class="toggle-btn" onclick="showModel('nb',this)">Naive Bayes</button>
      </div>
      <div id="modelPanel" class="card"></div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê POISSON ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="s5">
      <h2>Linear vs Poisson Regression</h2>
      <p class="section-desc">Step 5: Simulated doctor-visits count data (n=200). OLS vs Poisson GLM ‚Äî which model is
        appropriate and why? <em>Contributed by Asmar.</em></p>

      <div class="metrics">
        <div class="metric">
          <div class="metric-val yellow">3.75</div>
          <div class="metric-label">MEAN VISITS</div>
        </div>
        <div class="metric">
          <div class="metric-val red">15.12</div>
          <div class="metric-label">VARIANCE</div>
        </div>
        <div class="metric">
          <div class="metric-val red">21</div>
          <div class="metric-label">OLS NEGATIVES</div>
        </div>
        <div class="metric">
          <div class="metric-val green">0</div>
          <div class="metric-label">GLM NEGATIVES</div>
        </div>
      </div>

      <h3>Coefficient Recovery</h3>
      <div class="card">
        <div class="card-title">True DGP vs Fitted Coefficients</div>
        <div class="tbl-wrap">
          <table>
            <tr>
              <th>Term</th>
              <th>True Œ≤</th>
              <th>OLS Œ≤</th>
              <th>OLS p-value</th>
              <th>Poisson GLM Œ≤</th>
              <th>GLM p-value</th>
              <th>IRR exp(Œ≤)</th>
            </tr>
            <tr>
              <td>const</td>
              <td class="green">1.20</td>
              <td class="red">4.325</td>
              <td>&lt;0.001</td>
              <td class="green">1.196</td>
              <td>&lt;0.001</td>
              <td>3.306</td>
            </tr>
            <tr>
              <td>income</td>
              <td class="green">0.60</td>
              <td class="red">2.284</td>
              <td>&lt;0.001</td>
              <td class="green">0.592</td>
              <td>&lt;0.001</td>
              <td>1.808 √ó</td>
            </tr>
            <tr>
              <td>age</td>
              <td class="green">‚àí0.40</td>
              <td class="red">‚àí1.513</td>
              <td>&lt;0.001</td>
              <td class="green">‚àí0.415</td>
              <td>&lt;0.001</td>
              <td>0.661 √ó</td>
            </tr>
          </table>
        </div>
        <div class="alert alert-good" style="margin-top:12px">
          <div class="alert-title">‚úì POISSON GLM RECOVERS TRUE COEFFICIENTS</div>
          OLS estimates are on an incompatible additive scale. Poisson GLM (log link) correctly recovers the
          data-generating log-scale parameters. IRR interpretation: 1-SD higher income ‚Üí <strong>1.81√ó more
            visits</strong>; 1-SD older age ‚Üí <strong>0.66√ó fewer visits</strong>.
        </div>
      </div>

      <h3>Interactive ‚Äî Predict Doctor Visits</h3>
      <div class="card">
        <div class="card-title">Adjust income and age to compare OLS vs Poisson GLM predictions</div>
        <div class="slider-row">
          <label>Income (std)</label>
          <input type="range" min="-3" max="3" step="0.1" value="0" id="incSlider" oninput="updatePoisson()" />
          <span class="slider-val" id="incVal">0.0</span>
        </div>
        <div class="slider-row">
          <label>Age (std)</label>
          <input type="range" min="-3" max="3" step="0.1" value="0" id="ageSlider" oninput="updatePoisson()" />
          <span class="slider-val" id="ageVal">0.0</span>
        </div>
        <div class="dynamic-result" id="poissonResult"></div>
        <div class="chart-wrap" style="height:220px;margin-top:16px"><canvas id="fittedChart"></canvas></div>
      </div>

      <h3>Final Comparison Table</h3>
      <div class="card">
        <div class="tbl-wrap">
          <table>
            <tr>
              <th>Metric</th>
              <th>OLS (Linear)</th>
              <th>Poisson GLM</th>
              <th>Winner</th>
            </tr>
            <tr>
              <td>MSE</td>
              <td class="red">7.141</td>
              <td class="green">3.739</td>
              <td class="green">Poisson (48% lower)</td>
            </tr>
            <tr>
              <td>MAE</td>
              <td class="red">1.829</td>
              <td class="green">1.487</td>
              <td class="green">Poisson</td>
            </tr>
            <tr>
              <td>AIC</td>
              <td class="red">966.8</td>
              <td class="green">769.8</td>
              <td class="green">Poisson (‚àí197)</td>
            </tr>
            <tr>
              <td>Negative predictions</td>
              <td class="red">21 ‚ö†</td>
              <td class="green">0 ‚úì</td>
              <td class="green">Poisson</td>
            </tr>
            <tr>
              <td>Suitable for counts</td>
              <td class="red">No ‚ùå</td>
              <td class="green">Yes ‚úÖ</td>
              <td class="green">Poisson</td>
            </tr>
            <tr>
              <td>Overdispersion?</td>
              <td>‚Äî</td>
              <td class="yellow">var/mean ‚âà 4 ‚ö†</td>
              <td class="yellow">Consider Neg. Binomial</td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TEAM ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="s6">
      <h2>Team Contributions</h2>

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:8px">
        <div class="card">
          <div
            style="font-family:'Syne',sans-serif;font-size:18px;font-weight:700;color:var(--accent);margin-bottom:4px">
            Jafar</div>
          <div style="font-size:10px;color:var(--muted);letter-spacing:.5px;margin-bottom:16px">STEPS 1 & 3</div>
          <div style="font-size:12px;line-height:1.9;color:#a0b0cc">
            <strong style="color:var(--text)">Step 2 ‚Äî Discriminant Analysis</strong><br>
            LDA with LD-axis projection; threshold sweep (optimal = 0.68, F1 = 1.0); one-vs-rest ROC curves (AUC ‚â•
            0.997); QDA per-class covariance analysis.<br><br>
            <strong style="color:var(--text)">Step 3 ‚Äî Naive Bayes</strong><br>
            Gaussian NB parameter learning; likelihood curve visualisation; analysis of independence assumption under
            high PL/PW correlation (œÅ ‚âà 0.96).<br><br>
            <strong style="color:var(--text)">Step 4 ‚Äî Model Comparison</strong><br>
            10-fold CV; CV distribution boxplot; four-way confusion matrix grid; model properties table.<br><br>
            <strong style="color:var(--text)">Report</strong><br>
            Motivation section; error analysis table; interpretation of separation-induced SE inflation.
          </div>
        </div>
        <div class="card">
          <div
            style="font-family:'Syne',sans-serif;font-size:18px;font-weight:700;color:var(--accent3);margin-bottom:4px">
            Asmar</div>
          <div style="font-size:10px;color:var(--muted);letter-spacing:.5px;margin-bottom:16px">STEPS 2, 4 & 5</div>
          <div style="font-size:12px;line-height:1.9;color:#a0b0cc">
            <strong style="color:var(--text)">Step 1 ‚Äî Logistic Regression</strong><br>
            Binary LR with decision boundary; statsmodels.Logit for SE / z / p-value extraction; confounding analysis
            via correlation matrix and two-model coefficient comparison; multi-class softmax LR.<br><br>
            <strong style="color:var(--text)">Step 5 ‚Äî Regression</strong><br>
            Count data simulation; OLS and Poisson GLM fitting; MSE/MAE/AIC comparison; IRR interpretation;
            overdispersion observation.<br><br>
            <strong style="color:var(--text)">Report</strong><br>
            Method section; experiments section; README and interactive dashboard.
          </div>
        </div>
      </div>

      <div class="card" style="margin-top:20px">
        <div class="card-title">References</div>
        <div style="font-size:12px;line-height:2.1;color:#7a8aaa">
          Fisher, R.A. (1936). <em>The use of multiple measurements in taxonomic problems.</em> Annals of Eugenics,
          7(2), 179‚Äì188.<br>
          Hastie, T., Tibshirani, R., & Friedman, J. (2009). <em>The Elements of Statistical Learning</em> (2nd ed.).
          Springer.<br>
          James, G. et al. (2021). <em>An Introduction to Statistical Learning</em> (2nd ed.). Springer.<br>
          McCullagh, P. & Nelder, J.A. (1989). <em>Generalized Linear Models</em> (2nd ed.). Chapman & Hall.<br>
          Pedregosa et al. (2011). Scikit-learn: Machine Learning in Python. <em>JMLR</em>, 12, 2825‚Äì2830.<br>
          Seabold, S. & Perktold, J. (2010). Statsmodels. <em>Proc. 9th Python in Science Conf.</em>
        </div>
      </div>
    </div>

  </div><!-- end .main -->

  <script>
    // ‚îÄ‚îÄ TAB LOGIC ‚îÄ‚îÄ
    function showTab(i) {
      document.querySelectorAll('.section').forEach((s, j) => s.classList.toggle('active', j === i));
      document.querySelectorAll('.tab').forEach((t, j) => t.classList.toggle('active', j === i));
    }

    // ‚îÄ‚îÄ SCATTER DATA (Iris petal features, real values) ‚îÄ‚îÄ
    const irisData = {
      setosa: { pl: [1.4, 1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5, 1.5, 1.6, 1.4, 1.1, 1.2, 1.5, 1.3, 1.4, 1.7, 1.5, 1.7, 1.5, 1.0, 1.7, 1.9, 1.6, 1.6, 1.5, 1.4, 1.6, 1.6, 1.5, 1.5, 1.4, 1.5, 1.2, 1.3, 1.4, 1.3, 1.5, 1.3, 1.3, 1.3, 1.6, 1.9, 1.4, 1.6, 1.4, 1.5, 1.4], pw: [0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, 0.4, 0.2, 0.5, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, 0.4, 0.1, 0.2, 0.2, 0.2, 0.2, 0.1, 0.2, 0.2, 0.3, 0.3, 0.2, 0.6, 0.4, 0.3, 0.2, 0.2, 0.2, 0.2] },
      versicolor: { pl: [4.7, 4.5, 4.9, 4.0, 4.6, 4.5, 4.7, 3.3, 4.6, 3.9, 3.5, 4.2, 4.0, 4.7, 3.6, 4.4, 4.5, 4.1, 4.5, 3.9, 4.8, 4.0, 4.9, 4.7, 4.3, 4.4, 4.8, 5.0, 4.5, 3.5, 3.8, 3.7, 3.9, 5.1, 4.5, 4.5, 4.7, 4.4, 4.1, 4.0, 4.4, 4.6, 4.0, 3.3, 4.2, 4.2, 4.2, 4.3, 3.0, 4.1], pw: [1.4, 1.5, 1.5, 1.3, 1.5, 1.3, 1.6, 1.0, 1.3, 1.4, 1.0, 1.5, 1.0, 1.4, 1.3, 1.4, 1.5, 1.0, 1.5, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, 1.0, 1.1, 1.0, 1.2, 1.6, 1.5, 1.6, 1.5, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1.0, 1.3, 1.2, 1.3, 1.3, 1.1, 1.3] },
      virginica: { pl: [6.0, 5.1, 5.9, 5.6, 5.8, 6.6, 4.5, 6.3, 5.8, 6.1, 5.1, 5.3, 5.5, 5.0, 5.1, 5.3, 5.5, 6.7, 6.9, 5.0, 5.7, 4.9, 6.7, 4.9, 5.7, 6.0, 4.8, 4.9, 5.6, 5.8, 6.1, 6.4, 5.6, 5.1, 5.6, 6.1, 5.6, 5.5, 4.8, 5.4, 5.6, 5.1, 5.1, 5.9, 5.7, 5.2, 5.0, 5.2, 5.4, 5.1], pw: [2.5, 1.9, 2.1, 1.8, 2.2, 2.1, 1.7, 1.8, 1.8, 2.5, 2.0, 1.9, 2.1, 2.0, 2.4, 2.3, 1.8, 2.2, 2.3, 1.5, 2.3, 2.0, 2.0, 1.8, 2.1, 1.8, 1.8, 1.8, 2.1, 1.6, 1.9, 2.0, 2.2, 1.5, 1.4, 2.3, 2.4, 1.8, 1.8, 2.1, 2.4, 2.3, 1.9, 2.3, 2.5, 2.3, 1.9, 2.0, 2.3, 1.8] }
    };

    // ‚îÄ‚îÄ SCATTER CHART ‚îÄ‚îÄ
    new Chart(document.getElementById('scatterChart'), {
      type: 'scatter',
      data: {
        datasets: [
          { label: 'Setosa', data: irisData.setosa.pl.map((v, i) => ({ x: v, y: irisData.setosa.pw[i] })), backgroundColor: 'rgba(93,255,179,0.7)', pointRadius: 5 },
          { label: 'Versicolor', data: irisData.versicolor.pl.map((v, i) => ({ x: v, y: irisData.versicolor.pw[i] })), backgroundColor: 'rgba(255,209,102,0.7)', pointRadius: 5 },
          { label: 'Virginica', data: irisData.virginica.pl.map((v, i) => ({ x: v, y: irisData.virginica.pw[i] })), backgroundColor: 'rgba(116,185,255,0.7)', pointRadius: 5 },
        ]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#7a9aba', font: { family: 'DM Mono' } } } }, scales: { x: { title: { display: true, text: 'Petal Length (cm)', color: '#5a7a9a' }, ticks: { color: '#5a7a9a' }, grid: { color: '#1e2333' } }, y: { title: { display: true, text: 'Petal Width (cm)', color: '#5a7a9a' }, ticks: { color: '#5a7a9a' }, grid: { color: '#1e2333' } } } }
    });

    // ‚îÄ‚îÄ F1 CHART ‚îÄ‚îÄ
    const thrData = Array.from({ length: 200 }, (_, i) => 0.01 + i * 0.98 / 199);
    const f1Data = thrData.map(t => {
      if (t < 0.3) return t / 0.3;
      if (t <= 0.75) return 1.0;
      return 1 - (t - 0.75) / 0.25;
    });
    const f1Chart = new Chart(document.getElementById('f1Chart'), {
      type: 'line',
      data: {
        labels: thrData.map(t => t.toFixed(2)), datasets: [
          { label: 'F1 Score', data: f1Data, borderColor: '#5dffb3', borderWidth: 2, pointRadius: 0, fill: true, backgroundColor: 'rgba(93,255,179,0.06)' },
        ]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#7a9aba', font: { family: 'DM Mono' } } }, annotation: { annotations: {} } }, scales: { x: { ticks: { color: '#5a7a9a', maxTicksLimit: 10 }, grid: { color: '#1e2333' } }, y: { ticks: { color: '#5a7a9a' }, grid: { color: '#1e2333' }, min: 0, max: 1.05 } } }
    });
    function updateThreshold(v) {
      document.getElementById('thrVal').textContent = parseFloat(v).toFixed(2);
      const f1 = v >= 0.3 && v <= 0.75 ? 1.0 : v < 0.3 ? v / 0.3 : 1 - (v - 0.75) / 0.25;
      const cls = f1 >= 0.99 ? 'green' : f1 > 0.8 ? 'yellow' : 'red';
      document.getElementById('thrResult').innerHTML =
        `Threshold: <strong style="color:var(--accent)">${parseFloat(v).toFixed(2)}</strong><br>
     Estimated F1: <strong class="${cls}" style="color:var(--accent${cls === 'yellow' ? '3' : cls === 'red' ? '2' : ''})">${f1.toFixed(4)}</strong><br>
     ${parseFloat(v) === 0.68 ? '<span style="color:var(--accent)">‚òÖ Optimal threshold found by F1 sweep</span>' :
          parseFloat(v) === 0.50 ? '<span style="color:var(--accent3)">Default threshold ‚Äî also achieves F1=1.0 here</span>' :
            f1 >= 0.99 ? '<span style="color:var(--accent)">Perfect classification in this range</span>' :
              '<span style="color:var(--accent2)">Suboptimal ‚Äî some misclassifications expected</span>'}`;
    }
    updateThreshold(0.68);

    // ‚îÄ‚îÄ ROC CHART ‚îÄ‚îÄ
    // Approximate ROC points from LDA probabilities on Iris
    const rocSetosa = [{ x: 0, y: 0 }, { x: 0, y: 1 }, { x: 1, y: 1 }];
    const rocVersi = [{ x: 0, y: 0 }, { x: 0.01, y: 0.6 }, { x: 0.02, y: 0.95 }, { x: 0.05, y: 0.98 }, { x: 0.1, y: 1 }, { x: 1, y: 1 }];
    const rocVirginica = [{ x: 0, y: 0 }, { x: 0.01, y: 0.5 }, { x: 0.02, y: 0.93 }, { x: 0.05, y: 0.98 }, { x: 0.1, y: 1 }, { x: 1, y: 1 }];
    new Chart(document.getElementById('rocChart'), {
      type: 'line',
      data: {
        datasets: [
          { label: 'Setosa (AUC=1.0000)', data: rocSetosa, borderColor: '#5dffb3', borderWidth: 2.5, pointRadius: 0, fill: false, tension: 0.2 },
          { label: 'Versicolor (AUC=0.9970)', data: rocVersi, borderColor: '#ffd166', borderWidth: 2.5, pointRadius: 0, fill: false, tension: 0.3 },
          { label: 'Virginica (AUC=0.9970)', data: rocVirginica, borderColor: '#74b9ff', borderWidth: 2.5, pointRadius: 0, fill: false, tension: 0.3 },
          { label: 'Random (AUC=0.5)', data: [{ x: 0, y: 0 }, { x: 1, y: 1 }], borderColor: '#2a3040', borderWidth: 1.5, pointRadius: 0, fill: false, borderDash: [6, 4] },
        ]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#7a9aba', font: { family: 'DM Mono', size: 11 } } } }, scales: { x: { title: { display: true, text: 'False Positive Rate', color: '#5a7a9a' }, ticks: { color: '#5a7a9a' }, grid: { color: '#1e2333' }, min: 0, max: 1 }, y: { title: { display: true, text: 'True Positive Rate', color: '#5a7a9a' }, ticks: { color: '#5a7a9a' }, grid: { color: '#1e2333' }, min: 0, max: 1 } } }
    });

    // ‚îÄ‚îÄ NAIVE BAYES PREDICTION ‚îÄ‚îÄ
    function gaussPDF(x, mu, sigma2) { return Math.exp(-0.5 * (x - mu) ** 2 / sigma2) / Math.sqrt(2 * Math.PI * sigma2); }
    const nbParams = [
      { pl_mu: 1.4857, pl_v: 0.0229, pw_mu: 0.240, pw_v: 0.0093, name: 'Setosa', color: '#5dffb3' },
      { pl_mu: 4.2371, pl_v: 0.2115, pw_mu: 1.3086, pw_v: 0.0356, name: 'Versicolor', color: '#ffd166' },
      { pl_mu: 5.6314, pl_v: 0.3227, pw_mu: 2.0686, pw_v: 0.0639, name: 'Virginica', color: '#74b9ff' },
    ];
    function updateNB() {
      const pl = +document.getElementById('plSlider').value;
      const pw = +document.getElementById('pwSlider').value;
      document.getElementById('plVal').textContent = pl.toFixed(1);
      document.getElementById('pwVal').textContent = pw.toFixed(1);
      const logScores = nbParams.map(p => Math.log(1 / 3) + Math.log(Math.max(1e-300, gaussPDF(pl, p.pl_mu, p.pl_v))) + Math.log(Math.max(1e-300, gaussPDF(pw, p.pw_mu, p.pw_v))));
      const maxS = Math.max(...logScores);
      const exps = logScores.map(s => Math.exp(s - maxS));
      const sum = exps.reduce((a, b) => a + b, 0);
      const probs = exps.map(e => e / sum);
      const pred = nbParams[probs.indexOf(Math.max(...probs))];
      document.getElementById('nbResult').innerHTML =
        `Petal Length: <strong style="color:var(--accent)">${pl.toFixed(1)} cm</strong> &nbsp; Petal Width: <strong style="color:var(--accent)">${pw.toFixed(1)} cm</strong><br><br>` +
        nbParams.map((p, i) => `<span style="color:${p.color}">${p.name}</span>: P = <strong style="color:${p.color}">${(probs[i] * 100).toFixed(1)}%</strong>`).join(' &nbsp;¬∑&nbsp; ') +
        `<br><br>Prediction: <strong style="color:${pred.color};font-size:14px">${pred.name}</strong>`;
    }
    updateNB();

    // ‚îÄ‚îÄ MODEL PANEL ‚îÄ‚îÄ
    const modelData = {
      lr: { title: 'Logistic Regression (Multinomial)', acc: '0.9333', cv: '0.9600 ¬± 0.0442', cm: [[15, 0, 0], [0, 14, 1], [0, 2, 13]], note: 'No distributional assumption. Coefficients directly interpretable as log-odds. Softmax for multi-class.' },
      lda: { title: 'Linear Discriminant Analysis', acc: '0.9111', cv: '0.9600 ¬± 0.0442', cm: [[15, 0, 0], [0, 14, 1], [0, 3, 12]], note: 'Weakest model here ‚Äî shared Œ£ assumption violated (Virginica is 93√ó more dispersed than Setosa). LD1 captures 99.45% of variance.' },
      qda: { title: 'Quadratic Discriminant Analysis', acc: '0.9333', cv: '0.9733 ¬± 0.0327', cm: [[15, 0, 0], [0, 14, 1], [0, 2, 13]], note: 'Best CV mean (0.9733) and lowest variance. Class-specific Œ£_k correctly models heterogeneous spread.' },
      nb: { title: 'Gaussian Naive Bayes', acc: '0.9333', cv: '0.9600 ¬± 0.0442', cm: [[15, 0, 0], [0, 14, 1], [0, 2, 13]], note: 'Independence assumption violated (PL/PW œÅ‚âà0.96) but still achieves 93.3% ‚Äî separation dominates correlation.' },
    };
    function showModel(k, btn) {
      document.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('on'));
      btn.classList.add('on');
      const d = modelData[k];
      const cm = d.cm;
      document.getElementById('modelPanel').innerHTML = `
    <div class="card-title">${d.title}</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px">
      <div>
        <div style="margin-bottom:10px"><span style="color:var(--muted);font-size:10px">TEST ACC</span> <span style="font-family:Syne,sans-serif;font-size:20px;font-weight:700;color:var(--accent)">${d.acc}</span> &nbsp;&nbsp; <span style="color:var(--muted);font-size:10px">CV</span> <span style="color:var(--text)">${d.cv}</span></div>
        <div style="font-size:10px;color:var(--muted);margin-bottom:6px">‚Üì Actual / Predicted ‚Üí</div>
        <div class="cm" style="grid-template-columns:repeat(4,1fr)">
          <div class="cm-header"></div><div class="cm-header" style="color:var(--setosa)">Set</div><div class="cm-header" style="color:var(--versicolor)">Ver</div><div class="cm-header" style="color:var(--virginica)">Vir</div>
          ${['Set', 'Ver', 'Vir'].map((row, ri) => `<div class="cm-header" style="color:var(--${ri === 0 ? 'setosa' : ri === 1 ? 'versicolor' : 'virginica'})">${row}</div>` + cm[ri].map((v, ci) => `<div class="cm-cell ${ri === ci ? 'cm-diag' : v > 1 ? 'cm-cell cm-off" style="color:var(--accent2);border-color:#3a1a1a' : 'cm-off'}">${v}</div>`).join('')).join('')}
        </div>
      </div>
      <div class="alert alert-info" style="margin:0;align-self:center"><div class="alert-title">NOTES</div>${d.note}</div>
    </div>`;
    }
    showModel('lr', document.querySelector('.toggle-btn'));

    // ‚îÄ‚îÄ CV CHART ‚îÄ‚îÄ
    new Chart(document.getElementById('cvChart'), {
      type: 'bar',
      data: {
        labels: ['LR', 'LDA', 'QDA', 'Naive Bayes'],
        datasets: [
          { label: 'CV Mean Acc', data: [0.9600, 0.9600, 0.9733, 0.9600], backgroundColor: ['rgba(255,209,102,0.7)', 'rgba(116,185,255,0.7)', 'rgba(93,255,179,0.7)', 'rgba(255,107,107,0.7)'], borderRadius: 6 },
          { label: 'Test Acc', data: [0.9333, 0.9111, 0.9333, 0.9333], backgroundColor: ['rgba(255,209,102,0.25)', 'rgba(116,185,255,0.25)', 'rgba(93,255,179,0.25)', 'rgba(255,107,107,0.25)'], borderWidth: 1.5, borderColor: ['#ffd166', '#74b9ff', '#5dffb3', '#ff6b6b'], borderRadius: 6 }
        ]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#7a9aba', font: { family: 'DM Mono', size: 11 } } } }, scales: { x: { ticks: { color: '#5a7a9a' }, grid: { color: '#1e2333' } }, y: { ticks: { color: '#5a7a9a' }, grid: { color: '#1e2333' }, min: 0.88, max: 1.0 } } }
    });

    // ‚îÄ‚îÄ POISSON ‚îÄ‚îÄ
    const olsB0 = 4.3252, olsB1 = 2.2839, olsB2 = -1.5130;
    const glmB0 = 1.1956, glmB1 = 0.5924, glmB2 = -0.4148;
    const fittedChart = new Chart(document.getElementById('fittedChart'), {
      type: 'line',
      data: {
        datasets: [
          { label: 'OLS (Linear)', data: [], borderColor: '#5dffb3', borderWidth: 2.5, pointRadius: 0, fill: false, tension: 0.3 },
          { label: 'Poisson GLM', data: [], borderColor: '#ffd166', borderWidth: 2.5, pointRadius: 0, fill: false, tension: 0.3 },
          { label: 'y = 0 (lower bound)', data: [{ x: -3, y: 0 }, { x: 3, y: 0 }], borderColor: '#ff6b6b', borderWidth: 1, pointRadius: 0, fill: false, borderDash: [4, 4] },
        ]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#7a9aba', font: { family: 'DM Mono', size: 11 } } } }, scales: { x: { type: 'linear', title: { display: true, text: 'Income (std)', color: '#5a7a9a' }, ticks: { color: '#5a7a9a' }, grid: { color: '#1e2333' }, min: -3, max: 3 }, y: { title: { display: true, text: 'Predicted visits', color: '#5a7a9a' }, ticks: { color: '#5a7a9a' }, grid: { color: '#1e2333' } } } }
    });
    function updatePoisson() {
      const inc = +document.getElementById('incSlider').value;
      const age = +document.getElementById('ageSlider').value;
      document.getElementById('incVal').textContent = inc.toFixed(1);
      document.getElementById('ageVal').textContent = age.toFixed(1);
      const olsPred = olsB0 + olsB1 * inc + olsB2 * age;
      const glmPred = Math.exp(glmB0 + glmB1 * inc + glmB2 * age);
      const warn = olsPred < 0 ? '‚ö† <strong style="color:var(--accent2)">OLS predicts a negative count ‚Äî invalid!</strong>' : '‚úì OLS prediction in valid range.';
      document.getElementById('poissonResult').innerHTML =
        `Income (std): <strong style="color:var(--accent)">${inc.toFixed(1)}</strong> &nbsp; Age (std): <strong style="color:var(--accent)">${age.toFixed(1)}</strong><br><br>` +
        `OLS prediction: <strong style="color:${olsPred < 0 ? 'var(--accent2)' : 'var(--setosa)'}">${olsPred.toFixed(2)} visits</strong> &nbsp; Poisson GLM: <strong style="color:var(--accent3)">${glmPred.toFixed(2)} visits</strong><br>${warn}`;
      const xs = Array.from({ length: 60 }, (_, i) => -3 + i * 6 / 59);
      fittedChart.data.datasets[0].data = xs.map(x => ({ x, y: olsB0 + olsB1 * x + olsB2 * age }));
      fittedChart.data.datasets[1].data = xs.map(x => ({ x, y: Math.exp(glmB0 + glmB1 * x + glmB2 * age) }));
      fittedChart.update('none');
    }
    updatePoisson();
  </script>
</body>

</html>